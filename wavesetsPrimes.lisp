/*
(
s = Server.local;
//b = Buffer.readChannel(s, "/Users/casperschipper/Google\ Drive/GuineaPigs/haaaah.wav", channels:[0]);

b = Buffer.readChannel(s,"/Users/casperschipper/Google\ Drive/GuineaPigs/SHORT_simple2-b-OTHER-3-1.wav", channels:[0],bufnum:0);

b.inspect;
(
SynthDef( \waveSet, { | startFrame = 0, duration = 100, bufNum = 0 , pan = 0, rate = 1 |
	var env = EnvGen.ar( Env.new([0,1,1,0],[0.001,duration / 44100.0,0.001]),doneAction:2);
	Out.ar(0, Pan2.ar( PlayBuf.ar(1, bufNum, rate, startPos:startFrame ) * env, pos: pan) );
}).send(s);
)
)






(
Synth(\waveSet);
)

(
~schmitt_lookahead = { | seq, lookahead = 128 |
	// a schmitt trigger that looks ahead.
	// it switches from zero to one, on a zero crossing, only if the wave reaches a threshold in the lookahead afterwards. It also only switches to 0, if the signal goes low enough.
	var low = -0.1;
	var high = 0.1;
	var state = 0;
	var maximum = 0.0;
	var minimum = 0.0;
	var secondIndex;

	maximum = seq[0..lookahead].maxItem;
	minimum = seq[0..lookahead].minItem;

	seq.collect( {| item, index |
		secondIndex = index + lookahead;
		maximum = max( maximum, seq.wrapAt(secondIndex) );
		minimum = min( minimum, seq.wrapAt(secondIndex) );
		if (state == 0, {
			if ( (item > 0) && (maximum > high), {
				state = 1;
				maximum = 0.0;
			}, { } );
		},{
			if ((item < 0) && (minimum < low) , {
				state = 0;
				minimum = 0.0;
			}, { } );
		});
		state;
	});
};

~detectZeroToOne = { | seq |
	// detects zero to one onsets, turns them into pulses.
	var previous = 0;
	seq.collect( { |item|
		if ( (previous <= 0 ) && (item > 0), { previous = item; 1; }, { previous = item; 0; })
	});
};

~pulseTimer = { | seq |
	// a timer tool,
	// stores the array index when the value is bigger than 0.
	var result = [];
	seq.do( { | it, idx |
		if ( it > 0, {result = result.add(idx); }, { 0 } );
	});
	result;
};

~calcDeltas = { | seq |
		var previous = 0.0;
		seq.collect( { | item |
			var result = item - previous;
			previous = item;
			result;
			});
	};


~printLispArray = { | seq |
	var result = "(";
	seq.do( { |it| result = result + it } );
	result = result + ")";
	result;
};



)

(

f = SoundFile.new;
f.openRead("/Users/casperschipper/Google Drive/GuineaPigs/SHORT_simple2-b-OTHER-3-1.wav";
);
"number of frames in soundfile".postln;
f.numFrames.postln;
z = FloatArray.newClear( f.numFrames );


s.size;

f.readData( z );

z.normalize(-1.0,1.0);
z.plot;

{
var result, deltas;
result = ~schmitt_lookahead.(z);
result = ~detectZeroToOne.(result);
result = ~pulseTimer.(result);
	result = result[0..2048];
	result;
deltas = ~calcDeltas.(result);
result.size.postln;
~printLispArray.(result).postln;
~printLispArray.(deltas).postln;
}.();

)

*/


(# startFrames 
( 0.0 179 318 538 678 897 1037 1256 1397 1618 1760 1981 2122 2342 2483 2704 2846 3067 3208 3428 3569 3790 3932 4153 4294 4514 4655 4876 5018 5239 5380 5600 5741 5962 6104 6325 6466 6686 6827 7048 7190 7411 7552 7772 7913 8134 8276 8497 8638 8858 8999 9220 9362 9583 9724 9944 10087 10323 10476 10714 10882 11121 11270 11529 11676 11919 12086 12324 12493 12731 12876 13139 13290 13578 14012 14644 15190 15809 16248 17030 17453 17947 18320 18747 19047 19405 19692 20128 20417 20943 21183 21647 21896 22276 22550 22986 23361 23733 24097 24462 24743 25209 25475 25934 26290 26606 26776 27013 27178 27420 27551 27828 27951 28208 28439 28911 29347 29700 29824 30019 30145 30338 30463 30657 30782 30976 31101 31295 31420 31614 31739 31933 32058 32252 32377 32577 32712 32941 33100 33374 33571 33933 34223 34957 35091 35294 35414 35614 35738 35933 36058 36252 36377 36571 36696 36890 37015 37209 37334 37528 37653 37847 37974 38185 38330 38577 38751 39055 39282 39697 39877 40159 40339 40621 40801 41084 41264 41546 41726 42008 42187 42470 42649 42931 43111 43394 43575 43857 45588 47172 47488 50427 50937 51432 51747 52243 52809 53166 53347 53630 53811 54092 54271 54554 54733 55016 55196 55478 55658 55940 56120 56401 56579 56863 57042 57522 58725 59245 59830 60960 61564 62039 62349 62593 62599 62602 62605 62608 62611 62614 62617 62620 62623 62626 62629 62632 62635 62638 62641 62644 62647 62650 62653 62656 62659 62662 62665 62668 62671 62674 62677 62680 62683 62686 62689 62692 62695 62698 62701 62704 62707 62710 62713 62716 62719 62722 62725 62728 62731 62734 62737 62740 62743 62746 62749 62752 62755 62758 62761 62764 62767 62770 62773 62776 62779 62782 62785 62788 62791 62794 62797 62800 62803 62806 62809 62812 62815 62818 62821 62824 62827 62830 62833 62836 62839 62842 62845 62848 62851 62854 62857 62860 62863 62866 62869 62872 62875 62878 62881 62884 62887 62890 62893 62896 62899 62902 62905 62908 62911 62914 62917 62920 62923 62926 62929 62932 62935 62938 62941 62944 62947 62950 62953 62956 62959 62962 62965 62968 62971 62974 62977 62980 62983 62986 62989 62992 62995 62998 63001 63004 63007 63010 63013 63016 63019 63022 63025 63028 63031 63034 63037 63040 63043 63046 63049 63052 63055 63058 63061 63064 63067 63070 63073 63076 63079 63082 63085 63088 63091 63094 63097 63100 63103 63106 63109 63112 63115 63118 63121 63124 63127 63130 63133 63136 63139 63142 63145 63148 63151 63154 63157 63160 63163 63166 63169 63172 63175 63178 63181 63184 63187 63190 63193 63196 63199 63202 63205 63208 63211 63214 63217 63220 63223 63226 63229 63232 63235 63238 63241 63244 63247 63250 63253 63256 63259 63262 63265 63268 63271 63274 63277 63280 63283 63286 63289 63292 63295 63298 63301 63304 63307 63310 63313 63316 63319 63322 63325 63328 63331 63334 63337 63340 63343 63346 63349 63373 63376 63382 63385 63388 63391 63394 63397 63415 63418 63421 63424 63427 63430 63433 63436 63439 63442 63445 63448 63451 63454 63520 63523 63539 63555 63557 63561 63565 63567 63569 63571 63647 63649 63651 63653 63655 63660 63664 63684 63742 63745 63759 63777 63779 63783 63787 63789 63791 63793 63869 63875 63877 63882 63886 63906 63910 63914 63918 63934 63939 63942 63945 63948 63958 63963 63971 63975 63977 63979 63981 63986 63994 63996 64003 64005 64011 64026 64033 64037 64039 64041 64053 64065 64071 64075 64085 64089 64092 64095 64101 64111 64116 64124 64129 64131 64133 64139 64146 64156 64158 64162 64166 64169 64179 64186 64191 64193 64205 64217 64223 64228 64238 64249 64256 64260 64272 64279 64281 64283 64285 64314 64316 64318 64331 64344 64351 64359 64361 64377 64395 64403 64405 64413 64441 64456 64471 64477 64483 64485 64487 64489 64491 64493 64517 64523 64530 64532 64541 64544 64561 64566 64581 64591 64607 64613 64615 64637 64648 64657 64664 64670 64672 64688 64694 64706 64709 64713 64715 64719 64734 64740 64751 64757 64761 64776 64782 64792 64796 64798 64800 64802 64806 64810 64812 64833 64839 64847 64860 64864 64869 64874 64876 64882 64884 64889 64892 64896 64902 64904 64907 64918 64926 64930 64937 64952 64954 64971 64984 64996 64998 65000 65002 65004 65009 65012 65016 65022 65029 65038 65043 65054 65062 65066 65069 65081 65096 65124 65172 65174 65177 65181 65188 65190 65192 65197 65208 65211 65215 65217 65220 65238 65241 65300 65302 65304 65306 65308 65310 65312 65314 65316 65318 65322 65326 65328 65332 65334 65338 65340 65344 65346 65357 65364 65367 65419 65421 65423 65425 65427 65429 65431 65433 65435 65437 65439 65441 65443 65445 65450 65453 65456 65459 65465 65468 65474 65483 65489 65492 65498 65507 65513 65516 65522 65530 65534 65576 65586 65594 65602 65610 65618 65626 65635 65642 65650 65658 65662 65698 65700 65703 65710 65718 65726 65730 65733 65738 65763 65772 65776 65826 65830 65832 65838 65844 65846 65852 65858 65860 65866 65872 65874 65880 65886 65892 65898 65902 65930 65945 65952 65959 65966 65973 65980 65987 65994 66001 66008 66070 66073 66076 66079 66082 66091 66094 66097 66132 66134 66178 66182 66184 66186 66188 66190 66192 66194 66196 66198 66200 66202 66204 66206 66208 66210 66222 66226 66257 66276 66282 66285 66288 66292 66294 66306 66311 66329 66335 66337 66339 66346 66354 66362 66370 66378 66381 66383 66389 66395 66397 66409 66413 66420 66432 66436 66438 66457 66459 66465 66467 66471 66473 66479 66483 66485 66504 66510 66517 66531 66538 66544 66550 66552 66564 66566 66571 66581 66584 66594 66598 66611 66615 66627 66631 66644 66648 66660 66664 66677 66681 66693 66697 66710 66714 66726 66730 66743 66752 66759 66763 66776 66785 66792 66796 66809 66818 66825 66829 66842 66851 66858 66862 66875 66895 66928 66930 66950 66958 66961 66974 67055 67085 67105 67151 67196 67213 67245 67263 67289 67310 67354 67371 67403 67421 67447 67467 67512 67531 67561 67578 67604 67625 67669 67688 67718 67736 67762 67782 67827 67846 67875 67895 67922 67940 67987 68004 68034 68053 68081 68091 68101 68147 68163 68194 68215 68244 68263 68304 68321 68353 68370 68397 68417 68462 68479 68511 68528 68556 68576 68624 68639 68669 68692 68714 68724 68733 68777 68796 68826 68843 68869 68883 68899 68937 68954 68988 69002 69027 69047 69091 69109 69140 69157 69184 69204 69250 69267 69298 69316 69343 69362 69409 69426 69457 69476 69502 69522 69568 69588 69619 69637 69664 69675 69682 69729 69746 69775 69795 69822 69840 69887 69904 69934 69953 69980 69999 70045 70062 70094 70111 70138 70158 70203 70221 70252 70269 70295 70316 70360 70380 70409 70427 70453 70465 70473 70518 70537 70567 70586 70613 70624 70631 70678 70695 70724 70744 70771 70789 70836 70853 70883 70902 70929 70948 70997 71014 71045 71076 71099 71119 71163 71182 71213 71232 71253 71276 71317 71332 71362 71379 71407 71419 71427 71473 71487 71519 71534 71566 71586 71630 71650 71683 71699 71731 71755 71797 71812 71841 71859 71886 71911 71950 71967 71999 72018 72046 72067 72117 72132 72161 72182 72211 72227 72246 72290 72309 72337 72364 72393 72412 72457 72474 72505 72527 72549 72562 72569 72610 72625 72654 72669 72696 72706 72720 72759 72774 72801 72818 72848 72867 72917 72935 72969 72986 73014 73048 73097 73115 73148 73166 73207 73223 73265 73284 73316 73332 73359 73372 73380 73426 73441 73466 73486 73508 73521 73537 73575 73595 73622 73640 73664 73684 73731 73749 73778 73795 73822 73840 73883 73901 73933 73951 73978 73990 73997 74044 74061 74092 74110 74136 74148 74161 74201 74217 74249 74265 74289 74308 74356 74372 74405 74422 74448 74469 74514 74531 74561 74580 74607 74626 74670 74688 74714 74733 74760 74780 74827 74844 74875 74893 74920 74939 74984 75002 75033 75051 75076 75096 75136 75155 75187 75204 75232 75244 75252 75296 75316 75347 75364 75390 75410 75454 75473 75504 75523 75548 75568 75614 75633 75666 75685 75712 75723 75733 75769 75784 75818 75836 75861 75874 75881 75926 75943 75974 75994 76021 76031 76040 76090 76109 76140 76158 76183 76201 76242 76257 76282 76301 76328 76340 76357 76391 76410 76440 76458 76504 76550 76568 76660 76675 76705 76723 76769 76787 76818 76835 76862 76874 76881 76927 76947 76979 76997 77021 77038 77079 77098 77128 77145 77173 77191 77236 77254 77287 77303 77330 77352 77401 77419 77449 77466 77490 77508 77547 77561 77592 77612 77638 77649 77666 77702 77719 77750 77772 77794 77814 77866 77900 77950 77970 77994 78007 78015 78075 78090 78115 78129 78150 78160 78166 78207 78232 78257 78274 78311 78327 78365 78387 78432 78447 78468 78494 78521 78536 78564 78583 78621 78631 78637 78684 78704 78729 78746 78783 78799 78838 78872 78899 78915 78935 78951 79003 79043 79087 79102 79123 79133 79139 79176 79191 79216 79231 79252 79271 79305 79320 79345 79381 79391 79397 79444 79459 79502 79517 79543 79571 79607 79624 79671 79686 79707 79736 79761 79790 79823 79863 79901 79917 79968 79983 80012 80039 80060 80070 80086 80135 80149 80174 80189 80213 80229 80242 80301 80315 80340 80355 80376 80386 80392 80429 80444 80469 80484 80505 80515 80525 80558 80598 80620 80635 80653 80717 80748 80773 80788 80824 80834 80846 80879 80913 80938 80974 80984 81056 81089 81114 81129 81150 81160 81217 81232 81257 81281 81309 81319 81334 81382 81396 81421 81436 81461 81480 81501 81541 81555 81580 81595 81616 81632 81671 81688 81717 81733 81758 81777 81821 81839 81875 81900 81963 81979 82016 82030 82055 82084 82105 82115 82135 82177 82192 82217 82232 82263 82290 82305 82341 82356 82381 82396 82417 82427 82433 82484 82499 82524 82554 82575 82591 82646 82661 82686 82702 82746 82765 82802 82841 82860 82885 82910 82988 83022 83081 83121 83181 83203 83234 83249 83273 83309 83329 83377 83434 83449 83470 83480 83487 83551 83566 83591 83605 83626 83636 83642 83684 83701 83745 83760 83781 83807 83849 83907 83921 83942 83961 84019 84073 84098 84113 84125 84205 84219 84247 84272 84293 84312 84359 84376 84412 84427 84461 84471 84477 84527 84532 84542 84568 84594 84616 84633 84681 84697 84734 84749 84779 84793 84799 84848 84864 84889 84916 84938 84954 85003 85018 85056 85071 85097 85115 85121 85164 85186 85211 85234 85260 85276 85325 85340 85378 85393 85416 85437 85443 85483 85508 85533 85553 85582 85598 85648 85663 85700 85720 85741 85751 85822 85836 85861 85876 85897 85907 85913 85963 85978 86007 86031 86052 86063 86073 86118 86136 86171 86186 86222 86242 86277 86293 86330 86370 86407 86457 86471 86523 86540 86561 86590 86627 86675 86695 86716 86741 86789 86841 86856 86877 86890 86904 86946 86962 87001 87016 87039 87060 87077 87106 87127 87161 87176 87204 87229 87267 87296 87321 87337 87370 87380 87386 87436 87451 87489 87504 87525 87554 87591 87619 87644 87660 87693 87703 87709 87759 87774 87808 87827 87848 87861 87876 87914 87939 87967 87982 88016 88026 88032 88082 88097 88127 88150 88171 88194 88237 88258 88290 88305 88339 88349 88355 88405 88420 88448 88473 88494 88505 88515 88560 88578 88613 88628 88650 88665 88683 88729 88743 88768 88784 88821 88843 88867 88904 88918 88945 88979 89001 89017 89053 89068 89107 89135 89172 89210 89232 89294 89311 89332 89342 89348 89411 89451 89466 89487 89497 89568 89607 89622 89646 89662 89673 89743 89757 89782 89799 89849 89865 89902 89916 89945 89984 90005 90042 90058 90076 90118 90170 90191 90207 90280 90295 90319 90334 90355 90377 90437 90491 90522 90538 90623 90638 90673 90718 90739 90749 90755 90794 90823 90861 90876 90897 90913 90964 91004 91045 91060 91083 91103 91126 91179 91194 91219 91245 91284 91294 91337 91356 91388 91415 91467 91483 91530 91579 91604 91619 91640 91662 91723 91763 91778 91807 91831 91904 91919 91947 91991 92023 92033 92039 92077 92101 92146 92161 92192 92243 92266 92323 92338 92359 92371 92383 92455 92470 92495 92511 92561 92587 92614 92629 92657 92676 92715 92744 92755 92787 92806 92869 92883 92904 92914 92920 92977 93002 93027 93042 93077 93093 93143 93157 93184 93209 93231 93255 93299 93314 93344 93383 93405 93421 93458 93485 93510 93526 93566 93582 93621 93647 93672 93687 93717 93736 93747 93785 93809 93833 93848 93875 93892 93914 93938 93965 93990 94005 94042 94058 94106 94125 94150 94168 94202 94218 94270 94285 94310 94335 94362 94378 94427 94442 94480 94495 94519 94539 94545 94586 94610 94635 94656 94684 94700 94750 94764 94802 94817 94840 94861 94867 94906 94932 94957 94975 95006 95016 95022 95072 95087 95125 95139 95161 95177 95189 95227 95254 95279 95295 95328 95338 95344 95394 95409 95447 95462 95483 95512 95549 95577 95602 95618 95651 95661 )
	)
(# delta 
( 0.0 179 139 220 140 219 140 219 141 221 142 221 141 220 141 221 142 221 141 220 141 221 142 221 141 220 141 221 142 221 141 220 141 221 142 221 141 220 141 221 142 221 141 220 141 221 142 221 141 220 141 221 142 221 141 220 143 236 153 238 168 239 149 259 147 243 167 238 169 238 145 263 151 288 434 632 546 619 439 782 423 494 373 427 300 358 287 436 289 526 240 464 249 380 274 436 375 372 364 365 281 466 266 459 356 316 170 237 165 242 131 277 123 257 231 472 436 353 124 195 126 193 125 194 125 194 125 194 125 194 125 194 125 194 125 200 135 229 159 274 197 362 290 734 134 203 120 200 124 195 125 194 125 194 125 194 125 194 125 194 125 194 127 211 145 247 174 304 227 415 180 282 180 282 180 283 180 282 180 282 179 283 179 282 180 283 181 282 1731 1584 316 2939 510 495 315 496 566 357 181 283 181 281 179 283 179 283 180 282 180 282 180 281 178 284 179 480 1203 520 585 1130 604 475 310 244 6 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 3 24 3 6 3 3 3 3 3 18 3 3 3 3 3 3 3 3 3 3 3 3 3 66 3 16 16 2 4 4 2 2 2 76 2 2 2 2 5 4 20 58 3 14 18 2 4 4 2 2 2 76 6 2 5 4 20 4 4 4 16 5 3 3 3 10 5 8 4 2 2 2 5 8 2 7 2 6 15 7 4 2 2 12 12 6 4 10 4 3 3 6 10 5 8 5 2 2 6 7 10 2 4 4 3 10 7 5 2 12 12 6 5 10 11 7 4 12 7 2 2 2 29 2 2 13 13 7 8 2 16 18 8 2 8 28 15 15 6 6 2 2 2 2 2 24 6 7 2 9 3 17 5 15 10 16 6 2 22 11 9 7 6 2 16 6 12 3 4 2 4 15 6 11 6 4 15 6 10 4 2 2 2 4 4 2 21 6 8 13 4 5 5 2 6 2 5 3 4 6 2 3 11 8 4 7 15 2 17 13 12 2 2 2 2 5 3 4 6 7 9 5 11 8 4 3 12 15 28 48 2 3 4 7 2 2 5 11 3 4 2 3 18 3 59 2 2 2 2 2 2 2 2 2 4 4 2 4 2 4 2 4 2 11 7 3 52 2 2 2 2 2 2 2 2 2 2 2 2 2 5 3 3 3 6 3 6 9 6 3 6 9 6 3 6 8 4 42 10 8 8 8 8 8 9 7 8 8 4 36 2 3 7 8 8 4 3 5 25 9 4 50 4 2 6 6 2 6 6 2 6 6 2 6 6 6 6 4 28 15 7 7 7 7 7 7 7 7 7 62 3 3 3 3 9 3 3 35 2 44 4 2 2 2 2 2 2 2 2 2 2 2 2 2 2 12 4 31 19 6 3 3 4 2 12 5 18 6 2 2 7 8 8 8 8 3 2 6 6 2 12 4 7 12 4 2 19 2 6 2 4 2 6 4 2 19 6 7 14 7 6 6 2 12 2 5 10 3 10 4 13 4 12 4 13 4 12 4 13 4 12 4 13 4 12 4 13 9 7 4 13 9 7 4 13 9 7 4 13 9 7 4 13 20 33 2 20 8 3 13 81 30 20 46 45 17 32 18 26 21 44 17 32 18 26 20 45 19 30 17 26 21 44 19 30 18 26 20 45 19 29 20 27 18 47 17 30 19 28 10 10 46 16 31 21 29 19 41 17 32 17 27 20 45 17 32 17 28 20 48 15 30 23 22 10 9 44 19 30 17 26 14 16 38 17 34 14 25 20 44 18 31 17 27 20 46 17 31 18 27 19 47 17 31 19 26 20 46 20 31 18 27 11 7 47 17 29 20 27 18 47 17 30 19 27 19 46 17 32 17 27 20 45 18 31 17 26 21 44 20 29 18 26 12 8 45 19 30 19 27 11 7 47 17 29 20 27 18 47 17 30 19 27 19 49 17 31 31 23 20 44 19 31 19 21 23 41 15 30 17 28 12 8 46 14 32 15 32 20 44 20 33 16 32 24 42 15 29 18 27 25 39 17 32 19 28 21 50 15 29 21 29 16 19 44 19 28 27 29 19 45 17 31 22 22 13 7 41 15 29 15 27 10 14 39 15 27 17 30 19 50 18 34 17 28 34 49 18 33 18 41 16 42 19 32 16 27 13 8 46 15 25 20 22 13 16 38 20 27 18 24 20 47 18 29 17 27 18 43 18 32 18 27 12 7 47 17 31 18 26 12 13 40 16 32 16 24 19 48 16 33 17 26 21 45 17 30 19 27 19 44 18 26 19 27 20 47 17 31 18 27 19 45 18 31 18 25 20 40 19 32 17 28 12 8 44 20 31 17 26 20 44 19 31 19 25 20 46 19 33 19 27 11 10 36 15 34 18 25 13 7 45 17 31 20 27 10 9 50 19 31 18 25 18 41 15 25 19 27 12 17 34 19 30 18 46 46 18 92 15 30 18 46 18 31 17 27 12 7 46 20 32 18 24 17 41 19 30 17 28 18 45 18 33 16 27 22 49 18 30 17 24 18 39 14 31 20 26 11 17 36 17 31 22 22 20 52 34 50 20 24 13 8 60 15 25 14 21 10 6 41 25 25 17 37 16 38 22 45 15 21 26 27 15 28 19 38 10 6 47 20 25 17 37 16 39 34 27 16 20 16 52 40 44 15 21 10 6 37 15 25 15 21 19 34 15 25 36 10 6 47 15 43 15 26 28 36 17 47 15 21 29 25 29 33 40 38 16 51 15 29 27 21 10 16 49 14 25 15 24 16 13 59 14 25 15 21 10 6 37 15 25 15 21 10 10 33 40 22 15 18 64 31 25 15 36 10 12 33 34 25 36 10 72 33 25 15 21 10 57 15 25 24 28 10 15 48 14 25 15 25 19 21 40 14 25 15 21 16 39 17 29 16 25 19 44 18 36 25 63 16 37 14 25 29 21 10 20 42 15 25 15 31 27 15 36 15 25 15 21 10 6 51 15 25 30 21 16 55 15 25 16 44 19 37 39 19 25 25 78 34 59 40 60 22 31 15 24 36 20 48 57 15 21 10 7 64 15 25 14 21 10 6 42 17 44 15 21 26 42 58 14 21 19 58 54 25 15 12 80 14 28 25 21 19 47 17 36 15 34 10 6 50 5 10 26 26 22 17 48 16 37 15 30 14 6 49 16 25 27 22 16 49 15 38 15 26 18 6 43 22 25 23 26 16 49 15 38 15 23 21 6 40 25 25 20 29 16 50 15 37 20 21 10 71 14 25 15 21 10 6 50 15 29 24 21 11 10 45 18 35 15 36 20 35 16 37 40 37 50 14 52 17 21 29 37 48 20 21 25 48 52 15 21 13 14 42 16 39 15 23 21 17 29 21 34 15 28 25 38 29 25 16 33 10 6 50 15 38 15 21 29 37 28 25 16 33 10 6 50 15 34 19 21 13 15 38 25 28 15 34 10 6 50 15 30 23 21 23 43 21 32 15 34 10 6 50 15 28 25 21 11 10 45 18 35 15 22 15 18 46 14 25 16 37 22 24 37 14 27 34 22 16 36 15 39 28 37 38 22 62 17 21 10 6 63 40 15 21 10 71 39 15 24 16 11 70 14 25 17 50 16 37 14 29 39 21 37 16 18 42 52 21 16 73 15 24 15 21 22 60 54 31 16 85 15 35 45 21 10 6 39 29 38 15 21 16 51 40 41 15 23 20 23 53 15 25 26 39 10 43 19 32 27 52 16 47 49 25 15 21 22 61 40 15 29 24 73 15 28 44 32 10 6 38 24 45 15 31 51 23 57 15 21 12 12 72 15 25 16 50 26 27 15 28 19 39 29 11 32 19 63 14 21 10 6 57 25 25 15 35 16 50 14 27 25 22 24 44 15 30 39 22 16 37 27 25 16 40 16 39 26 25 15 30 19 11 38 24 24 15 27 17 22 24 27 25 15 37 16 48 19 25 18 34 16 52 15 25 25 27 16 49 15 38 15 24 20 6 41 24 25 21 28 16 50 14 38 15 23 21 6 39 26 25 18 31 10 6 50 15 38 14 22 16 12 38 27 25 16 33 10 6 50 15 38 15 21 29 37 28 25 16 33 10 )

)

(~ width
	(line
		(seq 0 1)
		(seq 3 7 5)))

(~ heavy
	(line
		(seq 1 30)
		(seq 13 5)))

(~ disturbance
	(*
		(rv 0 1)
		(line
			(seq 1 10)
			(seq 13 7 11))))


(sci2
	waveSet
	;indexy (line (rv 0 200) (ch 0.1 1 2 .5))
	(/ 1.0 (+ 
		(line (seq 1 2000) (seq 17 5))
		0))
	:startFrame (index startFrames (~ indexy))
	:duration (* (index delta (~ indexy)) (~ heavy))
	:pan (rv
		(* -1 (~ width)) (~ width))
	:rate (line
		(seq
		 (line (seq 0.01 16.0) (seq 13 15)) 
		 (line (seq 0.01 16.0) (seq 7 3)))
		(t (ch 0.1 0.01 0.001 0.1 3 10 30) (ch 1 3 4 8 16))))